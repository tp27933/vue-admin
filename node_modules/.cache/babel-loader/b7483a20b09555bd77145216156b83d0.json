{"remainingRequest":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\views\\member\\operation\\Components\\components_Tabs\\editUersInformation.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\views\\member\\operation\\Components\\components_Tabs\\editUersInformation.vue","mtime":1603967012990},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZXZlcnkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmtleXMiOwppbXBvcnQgX3JlYWRPbmx5RXJyb3IgZnJvbSAiQzovVXNlcnMvbWlzc2ovT25lRHJpdmUvXHU2ODRDXHU5NzYyL3Z1ZS92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlYWRPbmx5RXJyb3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyByZWFjdGl2ZSwgcmVmLCBjb21wdXRlZCwgb25CZWZvcmVNb3VudCB9IGZyb20gJ0B2dWUvY29tcG9zaXRpb24tYXBpJzsKaW1wb3J0IHsgVXBkYXRhVXNlckRhdGEgfSBmcm9tICdAL2FwaS91c2VyLmpzJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFZGl0X1RhYnMnLAogIHNldHVwOiBmdW5jdGlvbiBzZXR1cChwcm9wcywgX3JlZikgewogICAgdmFyIHJvb3QgPSBfcmVmLnJvb3QsCiAgICAgICAgZW1pdCA9IF9yZWYuZW1pdDsKCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0t5Yid5aeL5YyW5pW45YC8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCiAgICB2YXIgY2hhbmdlQWJsZSA9IHJlYWN0aXZlKFsnbmFtZScsICdwaG9uZU51bWJlciddKTsKICAgIHZhciBkaWFsb2dGb3JtVmlzaWJsZSA9IHJlZihmYWxzZSk7CiAgICB2YXIgZm9ybUxhYmVsV2lkdGggPSByZWYoJzEyMHB4Jyk7CiAgICB2YXIgRGF0YVRyYW5zZm9ybSA9IHJlYWN0aXZlKHsKICAgICAgbmFtZTogewogICAgICAgIGxhYmVsOiAn5aeT5ZCNJwogICAgICB9LAogICAgICBnZW5kZXI6IHsKICAgICAgICBsYWJlbDogJ+aApyDliKUnCiAgICAgIH0sCiAgICAgIHBob25lTnVtYmVyOiB7CiAgICAgICAgbGFiZWw6ICfpm7sg6KmxJwogICAgICB9LAogICAgICBjYXJkTnVtYmVyOiB7CiAgICAgICAgbGFiZWw6ICfljaEg6JmfJwogICAgICB9LAogICAgICBsZXZlbDogewogICAgICAgIGxhYmVsOiAn562JIOe0micKICAgICAgfSwKICAgICAgYW1vdW50OiB7CiAgICAgICAgbGFiZWw6ICfph5Eg6aGNJwogICAgICB9LAogICAgICBub3RlOiB7CiAgICAgICAgbGFiZWw6ICflgpkg6Ki7JwogICAgICB9CiAgICB9KTsgLy8gKCDnjbLlj5bmlbjmk5rlrrnlmaggKQoKICAgIHZhciByZW5kZXJEYXRhID0gcmVhY3RpdmUoewogICAgICB0YWJsZToge30KICAgIH0pOwogICAgdmFyIGRhdGEgPSBjb21wdXRlZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByb290LiRzdG9yZS5zdGF0ZS51c2VyRGF0YS51c2VyRm9ybTsKICAgIH0pOwogICAgLyotLS0tLS0tLS0tLS0tLS3lh73mlbgtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCiAgICB2YXIgZ2V0RGF0YSA9IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIGNvbnNvbGUubG9nKHJvb3QuJHN0b3JlLnN0YXRlLnVzZXJEYXRhLnVzZXJGb3JtKTsKICAgICAgdmFyIGRhdGEgPSByb290LiRzdG9yZS5zdGF0ZS51c2VyRGF0YS51c2VyRm9ybTsKCiAgICAgIGZvciAodmFyIGtleSBpbiBkYXRhKSB7CiAgICAgICAgaWYgKERhdGFUcmFuc2Zvcm1ba2V5XSkgewogICAgICAgICAgcm9vdC4kc2V0KHJlbmRlckRhdGEudGFibGUsIGtleSwgZGF0YVtrZXldKTsKICAgICAgICB9CiAgICAgIH0KICAgIH07IC8vICgg5o+Q5Lqk5pW45pOaICkKCgogICAgdmFyIHN1Ym1pdEVkaXQgPSBmdW5jdGlvbiBzdWJtaXRFZGl0KCkgewogICAgICB2YXIgc2VuZERhdGEgPSB7CiAgICAgICAgbmFtZTogcmVuZGVyRGF0YS50YWJsZS5uYW1lLAogICAgICAgIHBob25lTnVtYmVyOiByZW5kZXJEYXRhLnRhYmxlLnBob25lTnVtYmVyLAogICAgICAgIG5vdGU6IHJlbmRlckRhdGEudGFibGUubm90ZQogICAgICB9OwogICAgICB2YXIgb3JnaW5hbFVzZXJEYXRhID0gcm9vdC4kc3RvcmUuc3RhdGUudXNlckRhdGEudXNlckZvcm07CiAgICAgIHZhciByZXN1bHQgPSBPYmplY3Qua2V5cyhzZW5kRGF0YSkuZXZlcnkoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gc2VuZERhdGFbaXRlbV0gPT0gb3JnaW5hbFVzZXJEYXRhW2l0ZW1dOwogICAgICB9KTsKCiAgICAgIGlmIChyZXN1bHQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc2VuZEVkaXRSZXF1ZXN0KHNlbmREYXRhKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgc2VuZEVkaXRSZXF1ZXN0ID0gZnVuY3Rpb24gc2VuZEVkaXRSZXF1ZXN0KGRhdGEpIHsKICAgICAgcm9vdC4kc3RvcmUuZGlzcGF0Y2goJ3VzZXJEYXRhL1VQREFURV9VU0VSX0RBVEEnLCBkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHJvb3QuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogJ+aIkOWKn+S/ruaUuSAhICcsCiAgICAgICAgICB0eXBlOiAnc3VjY2VzcycKICAgICAgICB9KTsKICAgICAgICBkaWFsb2dGb3JtVmlzaWJsZSA9IChfcmVhZE9ubHlFcnJvcigiZGlhbG9nRm9ybVZpc2libGUiKSwgZmFsc2UpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICByZW5kZXJEYXRhOiByZW5kZXJEYXRhLAogICAgICBnZXREYXRhOiBnZXREYXRhLAogICAgICBjaGFuZ2VBYmxlOiBjaGFuZ2VBYmxlLAogICAgICBEYXRhVHJhbnNmb3JtOiBEYXRhVHJhbnNmb3JtLAogICAgICBzdWJtaXRFZGl0OiBzdWJtaXRFZGl0LAogICAgICBkaWFsb2dGb3JtVmlzaWJsZTogZGlhbG9nRm9ybVZpc2libGUsCiAgICAgIGZvcm1MYWJlbFdpZHRoOiBmb3JtTGFiZWxXaWR0aCwKICAgICAgZGF0YTogZGF0YQogICAgfTsKICB9Cn07"},{"version":3,"sources":["editUersInformation.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"edit-wrap\">\r\n    <el-dialog title=\"修改資料\" :visible.sync=\"dialogFormVisible\" @open=\"getData()\">\r\n      <el-form ref=\"form\" :model=\"renderData.table\" label-width=\"80px\">\r\n        <template v-for=\"(val, key, index) in renderData.table\">\r\n          <el-form-item\r\n            :key=\"index\"\r\n            v-if=\"DataTransform[key]\"\r\n            :label=\"DataTransform[key].label + ' :'\"\r\n          >\r\n            <template v-if=\"key === 'name' || key === 'phoneNumber'\">\r\n              <el-input v-model.trim=\"renderData.table[key]\" placeholder=\"请输入内容\" clearable>\r\n              </el-input>\r\n            </template>\r\n            <template v-else-if=\"key == 'note'\">\r\n              <el-input\r\n                v-model=\"renderData.table.note\"\r\n                type=\"textarea\"\r\n                placeholder=\"请输入内容\"\r\n                maxlength=\"100\"\r\n                show-word-limit\r\n              >\r\n              </el-input>\r\n            </template>\r\n            <template v-else>\r\n              <el-input :placeholder=\"val\" disabled></el-input>\r\n            </template>\r\n          </el-form-item>\r\n        </template>\r\n        <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"submitEdit\">确 定</el-button>\r\n      </el-form>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { reactive, ref, computed, onBeforeMount } from '@vue/composition-api';\r\nimport { UpdataUserData } from '@/api/user.js';\r\nexport default {\r\n  name: 'Edit_Tabs',\r\n  setup(props, { root, emit }) {\r\n    /*-----------------初始化數值----------------------*/\r\n    const changeAble = reactive(['name', 'phoneNumber']);\r\n    const dialogFormVisible = ref(false);\r\n    const formLabelWidth = ref('120px');\r\n    const DataTransform = reactive({\r\n      name: {\r\n        label: '姓名'\r\n      },\r\n      gender: {\r\n        label: '性 別'\r\n      },\r\n      phoneNumber: {\r\n        label: '電 話'\r\n      },\r\n      cardNumber: {\r\n        label: '卡 號'\r\n      },\r\n      level: {\r\n        label: '等 級'\r\n      },\r\n      amount: {\r\n        label: '金 額'\r\n      },\r\n      note: {\r\n        label: '備 註'\r\n      }\r\n    });\r\n    // ( 獲取數據容器 )\r\n    const renderData = reactive({\r\n      table: {}\r\n    });\r\n    const data = computed(() => {\r\n      return root.$store.state.userData.userForm;\r\n    });\r\n    /*---------------函數----------------------*/\r\n\r\n    const getData = () => {\r\n      console.log(root.$store.state.userData.userForm);\r\n      let data = root.$store.state.userData.userForm;\r\n      for (let key in data) {\r\n        if (DataTransform[key]) {\r\n          root.$set(renderData.table, key, data[key]);\r\n        }\r\n      }\r\n    };\r\n\r\n    // ( 提交數據 )\r\n    const submitEdit = () => {\r\n      let sendData = {\r\n        name: renderData.table.name,\r\n        phoneNumber: renderData.table.phoneNumber,\r\n        note: renderData.table.note\r\n      };\r\n\r\n      let orginalUserData = root.$store.state.userData.userForm;\r\n\r\n      let result = Object.keys(sendData).every(item => {\r\n        return sendData[item] == orginalUserData[item];\r\n      });\r\n      if (result) {\r\n        return;\r\n      } else {\r\n        sendEditRequest(sendData);\r\n      }\r\n    };\r\n\r\n    const sendEditRequest = data => {\r\n      root.$store\r\n        .dispatch('userData/UPDATE_USER_DATA', data)\r\n        .then(response => {\r\n          root.$message({\r\n            message: '成功修改 ! ',\r\n            type: 'success'\r\n          });\r\n          dialogFormVisible = false;\r\n        })\r\n        .catch(error => {\r\n          return false;\r\n        });\r\n    };\r\n\r\n    return {\r\n      renderData,\r\n      getData,\r\n      changeAble,\r\n      DataTransform,\r\n      submitEdit,\r\n      dialogFormVisible,\r\n      formLabelWidth,\r\n      data\r\n    };\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped></style>\r\n"],"sourceRoot":"src/views/member/operation/Components/components_Tabs"}]}