{"remainingRequest":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\views\\member\\operation\\Components\\components_Tabs\\history.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\views\\member\\operation\\Components\\components_Tabs\\history.vue","mtime":1603949498505},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgUGVyc29uYWxIaXN0b3J5IH0gZnJvbSAnQC9hcGkvdXNlci5qcyc7CmltcG9ydCBUYWJsZVZ1ZSBmcm9tICdAYy9UYWJsZSc7CmltcG9ydCB7IHJlYWN0aXZlLCByZWYgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnaGlzdG9yeScsCiAgY29tcG9uZW50czogewogICAgVGFibGVWdWU6IFRhYmxlVnVlCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAocHJvcHMsIF9yZWYpIHsKICAgIHZhciByb290ID0gX3JlZi5yb290OwoKICAgIC8qLS0tLS0tLS0tLS0tLS0tLS3liJ3lp4vljJbmlbjlgLwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KICAgIC8vKCDlgrPpgIF0YWJsZeiri+axguebuOmXnOaVuOaTmiApCiAgICB2YXIgdGFic19oaXN0b3J5ID0gcmVhY3RpdmUoewogICAgICBleHBhbmQ6IHRydWUsCiAgICAgIHRIZWFkOiBbewogICAgICAgIGxhYmVsOiAn5pel5pyfJywKICAgICAgICBuYW1lOiAnZGF0ZScsCiAgICAgICAgd2lkdGg6ICcxJwogICAgICB9LCB7CiAgICAgICAgbGFiZWw6ICfpoZ7lnosnLAogICAgICAgIG5hbWU6ICd0eXBlJywKICAgICAgICB3aWR0aDogJzEnCiAgICAgIH0sIHsKICAgICAgICBsYWJlbDogJ+mHkemhjScsCiAgICAgICAgbmFtZTogJ2Ftb3VudCcsCiAgICAgICAgd2lkdGg6ICcxICcKICAgICAgfV0sCiAgICAgIHRhYmxlRGF0YTogW10KICAgIH0pOyAvLyggZGV0YWls6YG46aCF6Iux6L2J5LitICkKCiAgICB2YXIgY2hpbGRyZW5EYXRhID0gcmVhY3RpdmUoewogICAgICBoYWlyY3V0OiB7CiAgICAgICAgbGFiZWw6ICfliarpq64nCiAgICAgIH0sCiAgICAgIGNvbG9yOiB7CiAgICAgICAgbGFiZWw6ICfmn5Ppq64nCiAgICAgIH0sCiAgICAgIHBlcm06IHsKICAgICAgICBsYWJlbDogJ+eHmemrricKICAgICAgfSwKICAgICAgdHJlYXRtZW50OiB7CiAgICAgICAgbGFiZWw6ICforbfnkIYnCiAgICAgIH0sCiAgICAgIG90aGVyczogewogICAgICAgIGxhYmVsOiAn5YW25LuWJwogICAgICB9CiAgICB9KTsKICAgIHZhciBkaWFsb2dUYWJsZVZpc2libGUgPSByZWYoZmFsc2UpOwoKICAgIHZhciBzZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIHNlbmRSZXF1ZXN0KGluZGV4LCByb3cpIHsKICAgICAgLy/nm6Pogb3nlbbliY3mnIPlk6Hmlbjmk5oKICAgICAgdmFyIHVzZXJDYXJkTnVtYmVyID0gcm9vdC4kc3RvcmUuc3RhdGUudXNlckRhdGEudXNlckZvcm0uY2FyZE51bWJlcjsKICAgICAgdmFyIHJlcXVlc3REYXRhID0gewogICAgICAgIGNhcmROdW1iZXI6IHVzZXJDYXJkTnVtYmVyCiAgICAgIH07CiAgICAgIFBlcnNvbmFsSGlzdG9yeShyZXF1ZXN0RGF0YS5jYXJkTnVtYmVyKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICB2YXIgdGFibGVEYXRhMSA9IHJlcy5kYXRhOwogICAgICAgIHRhYnNfaGlzdG9yeS50YWJsZURhdGEgPSB0YWJsZURhdGExOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHRhYnNfaGlzdG9yeTogdGFic19oaXN0b3J5LAogICAgICBjaGlsZHJlbkRhdGE6IGNoaWxkcmVuRGF0YSwKICAgICAgc2VuZFJlcXVlc3Q6IHNlbmRSZXF1ZXN0LAogICAgICBkaWFsb2dUYWJsZVZpc2libGU6IGRpYWxvZ1RhYmxlVmlzaWJsZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["history.vue"],"names":[],"mappings":";;;;;;;;;AAUA,SAAA,eAAA,QAAA,eAAA;AACA,OAAA,QAAA,MAAA,UAAA;AACA,SAAA,QAAA,EAAA,GAAA,QAAA,sBAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,QAAA,EAAA;AAAA,GAFA;AAGA,EAAA,KAHA,iBAGA,KAHA,QAGA;AAAA,QAAA,IAAA,QAAA,IAAA;;AACA;AAEA;AACA,QAAA,YAAA,GAAA,QAAA,CAAA;AACA,MAAA,MAAA,EAAA,IADA;AAEA,MAAA,KAAA,EAAA,CACA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,MAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OADA,EAMA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,MAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OANA,EAWA;AACA,QAAA,KAAA,EAAA,IADA;AAEA,QAAA,IAAA,EAAA,QAFA;AAGA,QAAA,KAAA,EAAA;AAHA,OAXA,CAFA;AAmBA,MAAA,SAAA,EAAA;AAnBA,KAAA,CAAA,CAJA,CAyBA;;AACA,QAAA,YAAA,GAAA,QAAA,CAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OADA;AAIA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OAJA;AAOA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OAPA;AAUA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OAVA;AAaA,MAAA,MAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA;AAbA,KAAA,CAAA;AAiBA,QAAA,kBAAA,GAAA,GAAA,CAAA,KAAA,CAAA;;AAEA,QAAA,WAAA,GAAA,SAAA,WAAA,CAAA,KAAA,EAAA,GAAA,EAAA;AACA;AACA,UAAA,cAAA,GAAA,IAAA,CAAA,MAAA,CAAA,KAAA,CAAA,QAAA,CAAA,QAAA,CAAA,UAAA;AACA,UAAA,WAAA,GAAA;AACA,QAAA,UAAA,EAAA;AADA,OAAA;AAGA,MAAA,eAAA,CAAA,WAAA,CAAA,UAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,UAAA,GAAA,GAAA,CAAA,IAAA;AACA,QAAA,YAAA,CAAA,SAAA,GAAA,UAAA;AACA,OAJA,EAKA,KALA,CAKA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,OAPA;AAQA,KAdA;;AAgBA,WAAA;AACA,MAAA,YAAA,EAAA,YADA;AAEA,MAAA,YAAA,EAAA,YAFA;AAGA,MAAA,WAAA,EAAA,WAHA;AAIA,MAAA,kBAAA,EAAA;AAJA,KAAA;AAMA;AAtEA,CAAA","sourcesContent":["<template>\r\n  <div id=\"history\">\r\n    <el-dialog title=\"歷史紀錄\" :visible.sync=\"dialogTableVisible\" @open=\"sendRequest()\">\r\n      <p>紀錄僅顯示最近20條紀錄</p>\r\n      <TableVue :config=\"tabs_history\" />\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { PersonalHistory } from '@/api/user.js';\r\nimport TableVue from '@c/Table';\r\nimport { reactive, ref } from '@vue/composition-api';\r\nexport default {\r\n  name: 'history',\r\n  components: { TableVue },\r\n  setup(props, { root }) {\r\n    /*-----------------初始化數值----------------------*/\r\n\r\n    //( 傳送table請求相關數據 )\r\n    const tabs_history = reactive({\r\n      expand: true,\r\n      tHead: [\r\n        {\r\n          label: '日期',\r\n          name: 'date',\r\n          width: '1'\r\n        },\r\n        {\r\n          label: '類型',\r\n          name: 'type',\r\n          width: '1'\r\n        },\r\n        {\r\n          label: '金額',\r\n          name: 'amount',\r\n          width: '1 '\r\n        }\r\n      ],\r\n      tableData: []\r\n    });\r\n    //( detail選項英轉中 )\r\n    const childrenData = reactive({\r\n      haircut: {\r\n        label: '剪髮'\r\n      },\r\n      color: {\r\n        label: '染髮'\r\n      },\r\n      perm: {\r\n        label: '燙髮'\r\n      },\r\n      treatment: {\r\n        label: '護理'\r\n      },\r\n      others: {\r\n        label: '其他'\r\n      }\r\n    });\r\n    const dialogTableVisible = ref(false);\r\n\r\n    const sendRequest = (index, row) => {\r\n      //監聽當前會員數據\r\n      let userCardNumber = root.$store.state.userData.userForm.cardNumber;\r\n      let requestData = {\r\n        cardNumber: userCardNumber\r\n      };\r\n      PersonalHistory(requestData.cardNumber)\r\n        .then(res => {\r\n          let tableData1 = res.data;\r\n          tabs_history.tableData = tableData1;\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n        });\r\n    };\r\n\r\n    return {\r\n      tabs_history,\r\n      childrenData,\r\n      sendRequest,\r\n      dialogTableVisible\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.row-expand-cover {\r\n  .el-table__expand-icon {\r\n    visibility: hidden !important;\r\n  }\r\n}\r\n\r\n#history {\r\n  /deep/ p {\r\n    text-align: left;\r\n    font-size: 10px;\r\n    padding-bottom: 10px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/member/operation/Components/components_Tabs"}]}