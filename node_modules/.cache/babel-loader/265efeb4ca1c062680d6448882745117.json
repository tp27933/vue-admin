{"remainingRequest":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\components\\Table\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\components\\Table\\index.vue","mtime":1601893881497},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcmVhY3RpdmUsIHJlZiwgd2F0Y2gsIG9uQmVmb3JlTW91bnQgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndGFibGVWdWUnLAogIHByb3BzOiB7CiAgICBjb25maWc6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhbHV0OiB7fQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCwKICAgICAgICBlbWl0ID0gX3JlZi5lbWl0OwogICAgdmFyIGNoaWxkcmVuRGF0YSA9IHJlYWN0aXZlKHsKICAgICAgJ2hhaXJjdXQnOiB7CiAgICAgICAgbGFiZWw6ICfliarpq64nCiAgICAgIH0sCiAgICAgICdjb2xvcic6IHsKICAgICAgICBsYWJlbDogJ+afk+mrricKICAgICAgfSwKICAgICAgJ3Blcm0nOiB7CiAgICAgICAgbGFiZWw6ICfnh5npq64nCiAgICAgIH0sCiAgICAgICd0cmVhdG1lbnQnOiB7CiAgICAgICAgbGFiZWw6ICforbfnkIYnCiAgICAgIH0sCiAgICAgICdvdGhlcnMnOiB7CiAgICAgICAgbGFiZWw6ICflhbbku5YnCiAgICAgIH0KICAgIH0pOwogICAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIHRIZWFkOiBbXSwKICAgICAgdGFibGVEYXRhOiBbXQogICAgfSk7CgogICAgZnVuY3Rpb24gdHJhbl92YWwodmFsKSB7CiAgICAgIGlmICh2YWwgPCAxMCkgewogICAgICAgIHZhbCA9ICIwIiArIHZhbDsKICAgICAgfQoKICAgICAgcmV0dXJuIHZhbDsKICAgIH0KCiAgICBmdW5jdGlvbiBmb3JtYXRlRGF0ZShkYXRhKSB7CiAgICAgIHZhciBkYXRlID0gbmV3IERhdGUoZGF0YSk7CiAgICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRGdWxsWWVhcigpOwogICAgICB2YXIgbW9udGggPSB0cmFuX3ZhbChkYXRlLmdldE1vbnRoKCkgKyAxKTsKICAgICAgdmFyIGRheSA9IHRyYW5fdmFsKGRhdGUuZ2V0RGF0ZSgpKTsKICAgICAgdmFyIGRhdGVzdHIgPSB5ZWFyICsgIi0iICsgbW9udGggKyAiLSIgKyBkYXk7CiAgICAgIHJldHVybiBkYXRlc3RyOwogICAgfQoKICAgIHdhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHByb3BzLmNvbmZpZy50YWJsZURhdGE7CiAgICB9LCBmdW5jdGlvbiAodmFsdWUsIG9sZFZhbHVlKSB7CiAgICAgIGRhdGEudGFibGVEYXRhID0gdmFsdWUubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgIGl0ZW0uZGF0ZSA9IGZvcm1hdGVEYXRlKGl0ZW0uZGF0ZSk7CiAgICAgICAgaXRlbS50eXBlID0gaXRlbS50eXBlID09ICdkZXBvc2l0JyA/ICflhLLlgLwnIDogaXRlbS50eXBlID09ICd3aXRoZHJhdycgPyAn5omj5qy+JyA6ICfplovljaEnOwogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgIH0pOwoKICAgIHZhciBpbml0VGFibGVDb25maWcgPSBmdW5jdGlvbiBpbml0VGFibGVDb25maWcoKSB7CiAgICAgIHZhciBjb25maWdEYXRhID0gcHJvcHMuY29uZmlnOwoKICAgICAgZm9yICh2YXIga2V5IGluIGNvbmZpZ0RhdGEpIHsKICAgICAgICBkYXRhW2tleV0gPSBjb25maWdEYXRhW2tleV07CiAgICAgIH0KICAgIH07CgogICAgdmFyIGdldFJvd0NsYXNzTmFtZSA9IGZ1bmN0aW9uIGdldFJvd0NsYXNzTmFtZShfcmVmMikgewogICAgICB2YXIgcm93ID0gX3JlZjIucm93LAogICAgICAgICAgcm93SW5kZXggPSBfcmVmMi5yb3dJbmRleDsKCiAgICAgIGlmIChyb3cuZGV0YWlsID09IDApIHsKICAgICAgICByZXR1cm4gJ3Jvdy1leHBhbmQtY292ZXInOwogICAgICB9CiAgICB9OwoKICAgIG9uQmVmb3JlTW91bnQoZnVuY3Rpb24gKCkgewogICAgICBpbml0VGFibGVDb25maWcoKTsKICAgIH0pOwogICAgcmV0dXJuIHsKICAgICAgY2hpbGRyZW5EYXRhOiBjaGlsZHJlbkRhdGEsCiAgICAgIGluaXRUYWJsZUNvbmZpZzogaW5pdFRhYmxlQ29uZmlnLAogICAgICBkYXRhOiBkYXRhLAogICAgICBnZXRSb3dDbGFzc05hbWU6IGdldFJvd0NsYXNzTmFtZQogICAgfTsKICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":"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","sourcesContent":[" <template>\r\n  <div class=\"table\">\r\n    <el-table\r\n      :data=\"data.tableData\"\r\n      style=\"width: 100%; \"\r\n      border\r\n      :row-class-name=\"getRowClassName\"\r\n    >\r\n      <el-table-column\r\n        v-for=\"(item,index) in data.tHead\"\r\n        :key=\"index\"\r\n        :prop=\"item.name\"\r\n        :label=\"item.label\"\r\n        :min-width=\"item.width\"\r\n      ></el-table-column>\r\n\r\n      <el-table-column\r\n        type=\"expand\"\r\n        width=\"100\"\r\n      >\r\n        <template slot-scope=\"scope\">\r\n          <div\r\n            v-for=\"(item,index) in scope.row.detail\"\r\n            :key=\"index\"\r\n          >\r\n            <el-form\r\n              label-position=\"left\"\r\n              inline\r\n              class=\"demo-table-expand\"\r\n            >\r\n              <el-form-item label=\"操作\">\r\n\r\n                <span>{{childrenData[item.value].label}}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"金額\">\r\n                <span>{{item.amount}}</span>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\nimport { reactive, ref, watch, onBeforeMount } from '@vue/composition-api'\r\n\r\nexport default {\r\n  name: 'tableVue',\r\n  props: {\r\n    config: {\r\n      type: Object,\r\n      defalut: {}\r\n    }\r\n  },\r\n  setup (props, { root, emit }) {\r\n    const childrenData = reactive({\r\n      'haircut': {\r\n        label: '剪髮'\r\n      },\r\n      'color': {\r\n        label: '染髮'\r\n      },\r\n      'perm': {\r\n        label: '燙髮'\r\n      },\r\n      'treatment': {\r\n        label: '護理'\r\n      },\r\n      'others': {\r\n        label: '其他'\r\n      },\r\n\r\n    })\r\n    const data = reactive({\r\n      tHead: [],\r\n      tableData: []\r\n    })\r\n    function tran_val (val) {\r\n      if (val < 10) {\r\n        val = \"0\" + val;\r\n      } return val;\r\n    }\r\n    function formateDate (data) {\r\n      var date = new Date(data);\r\n      var year = date.getFullYear();\r\n      var month = tran_val(date.getMonth() + 1);\r\n      var day = tran_val(date.getDate());\r\n      var datestr = year + \"-\" + month + \"-\" + day;\r\n      return datestr\r\n    }\r\n    watch(() => props.config.tableData, (value, oldValue) => {\r\n      data.tableData = value.map((item, index) => {\r\n        item.date = formateDate(item.date)\r\n        item.type = (item.type == 'deposit') ? '儲值' : (item.type == 'withdraw') ? '扣款' : '開卡'\r\n        return item\r\n      })\r\n    })\r\n    const initTableConfig = () => {\r\n\r\n      let configData = props.config;\r\n\r\n      for (let key in configData) {\r\n\r\n        data[key] = configData[key];\r\n      }\r\n\r\n    }\r\n    const getRowClassName = ({ row, rowIndex }) => {\r\n      if (row.detail == 0) {\r\n        return 'row-expand-cover';\r\n      }\r\n    }\r\n    onBeforeMount(() => {\r\n      initTableConfig()\r\n    })\r\n\r\n    return {\r\n      childrenData, initTableConfig, data, getRowClassName,\r\n\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"sourceRoot":"src/components/Table"}]}