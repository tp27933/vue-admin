{"remainingRequest":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\components\\Table\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\components\\Table\\index.vue","mtime":1604153688684},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvbWlzc2ovT25lRHJpdmUvXHU2ODRDXHU5NzYyL3Z1ZS92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBpbml0RGF0ZSB9IGZyb20gJ0AvdXRpbHMvaW5pdF9kYXRhJzsKaW1wb3J0IHsgcmVhY3RpdmUsIHJlZiwgd2F0Y2gsIG9uQmVmb3JlTW91bnQgfSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndGFibGVWdWUnLAogIHByb3BzOiB7CiAgICBjb25maWc6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhbHV0OiB7fQogICAgfQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKHByb3BzLCBfcmVmKSB7CiAgICB2YXIgcm9vdCA9IF9yZWYucm9vdCwKICAgICAgICBlbWl0ID0gX3JlZi5lbWl0OwoKICAgIC8qLS0tLS0tLS0tLS0tLS0tLS3liJ3lp4vljJbmlbjlgLwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KICAgIHZhciBjaGlsZHJlbkRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIGhhaXJjdXQ6IHsKICAgICAgICBsYWJlbDogJ+WJqumrricKICAgICAgfSwKICAgICAgY29sb3I6IHsKICAgICAgICBsYWJlbDogJ+afk+mrricKICAgICAgfSwKICAgICAgcGVybTogewogICAgICAgIGxhYmVsOiAn54eZ6auuJwogICAgICB9LAogICAgICB0cmVhdG1lbnQ6IHsKICAgICAgICBsYWJlbDogJ+itt+eQhicKICAgICAgfSwKICAgICAgb3RoZXJzOiB7CiAgICAgICAgbGFiZWw6ICflhbbku5YnCiAgICAgIH0KICAgIH0pOwogICAgdmFyIGRhdGEgPSByZWFjdGl2ZSh7CiAgICAgIHRIZWFkOiBbXSwKICAgICAgdGFibGVEYXRhOiBbXQogICAgfSk7CiAgICB3YXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBwcm9wcy5jb25maWcudGFibGVEYXRhOwogICAgfSwgZnVuY3Rpb24gKHZhbHVlLCBvbGRWYWx1ZSkgewogICAgICB2YXIgcmVzdWx0ID0gdmFsdWUubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgaXRlbSksIHt9LCB7CiAgICAgICAgICAvL2VzNuecgeeVpeespuiZnyDnm7jnlbbmlrwgaWQ6aXRlbS5pZAogICAgICAgICAgZGF0ZTogaW5pdERhdGUoaXRlbS5kYXRlKSwKICAgICAgICAgIC8v5LiN55u05o6l6YCa6L+HaXRlbS5kYXRhID0gaXRlbS5kYXRhKyAyCiAgICAgICAgICB0eXBlOiBpdGVtLnR5cGUgPT0gJ2RlcG9zaXQnID8gJ+WEsuWAvCcgOiBpdGVtLnR5cGUgPT0gJ3dpdGhkcmF3JyA/ICfmiaPmrL4nIDogJ+mWi+WNoScKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIGRhdGEudGFibGVEYXRhID0gcmVzdWx0OwogICAgfSk7CiAgICAvKi0tLS0tLS0tLS0tLS0tLS0t5Ye95pW46IGy5piOLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCiAgICB2YXIgaW5pdFRhYmxlQ29uZmlnID0gZnVuY3Rpb24gaW5pdFRhYmxlQ29uZmlnKCkgewogICAgICB2YXIgY29uZmlnRGF0YSA9IHByb3BzLmNvbmZpZzsKCiAgICAgIGZvciAodmFyIGtleSBpbiBjb25maWdEYXRhKSB7CiAgICAgICAgZGF0YVtrZXldID0gY29uZmlnRGF0YVtrZXldOwogICAgICB9CiAgICB9OwoKICAgIHZhciBnZXRSb3dDbGFzc05hbWUgPSBmdW5jdGlvbiBnZXRSb3dDbGFzc05hbWUoX3JlZjIpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYyLnJvdywKICAgICAgICAgIHJvd0luZGV4ID0gX3JlZjIucm93SW5kZXg7CiAgICAgIGNvbnNvbGUubG9nKHJvdy5kZXRhaWwubGVuZ3RoKTsKCiAgICAgIGlmIChyb3cuZGV0YWlsLmxlbmd0aCA9PSAwKSB7CiAgICAgICAgcmV0dXJuICdyb3ctZXhwYW5kLWNvdmVyJzsKICAgICAgfQogICAgfTsKCiAgICBvbkJlZm9yZU1vdW50KGZ1bmN0aW9uICgpIHsKICAgICAgaW5pdFRhYmxlQ29uZmlnKCk7CiAgICB9KTsKICAgIHJldHVybiB7CiAgICAgIGNoaWxkcmVuRGF0YTogY2hpbGRyZW5EYXRhLAogICAgICBpbml0VGFibGVDb25maWc6IGluaXRUYWJsZUNvbmZpZywKICAgICAgZGF0YTogZGF0YSwKICAgICAgZ2V0Um93Q2xhc3NOYW1lOiBnZXRSb3dDbGFzc05hbWUKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,SAAA,QAAA,QAAA,mBAAA;AAEA,SAAA,QAAA,EAAA,GAAA,EAAA,KAAA,EAAA,aAAA,QAAA,sBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA;AADA,GAFA;AAQA,EAAA,KARA,iBAQA,KARA,QAQA;AAAA,QAAA,IAAA,QAAA,IAAA;AAAA,QAAA,IAAA,QAAA,IAAA;;AACA;AACA,QAAA,YAAA,GAAA,QAAA,CAAA;AACA,MAAA,OAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OADA;AAIA,MAAA,KAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OAJA;AAOA,MAAA,IAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OAPA;AAUA,MAAA,SAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA,OAVA;AAaA,MAAA,MAAA,EAAA;AACA,QAAA,KAAA,EAAA;AADA;AAbA,KAAA,CAAA;AAiBA,QAAA,IAAA,GAAA,QAAA,CAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA;AAFA,KAAA,CAAA;AAKA,IAAA,KAAA,CACA;AAAA,aAAA,KAAA,CAAA,MAAA,CAAA,SAAA;AAAA,KADA,EAEA,UAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,MAAA,GAAA,KAAA,CAAA,GAAA,CAAA,UAAA,IAAA;AAAA,+CACA,IADA;AACA;AACA,UAAA,IAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAFA;AAEA;AACA,UAAA,IAAA,EAAA,IAAA,CAAA,IAAA,IAAA,SAAA,GAAA,IAAA,GAAA,IAAA,CAAA,IAAA,IAAA,UAAA,GAAA,IAAA,GAAA;AAHA;AAAA,OAAA,CAAA;AAMA,MAAA,IAAA,CAAA,SAAA,GAAA,MAAA;AACA,KAVA,CAAA;AAaA;;AACA,QAAA,eAAA,GAAA,SAAA,eAAA,GAAA;AACA,UAAA,UAAA,GAAA,KAAA,CAAA,MAAA;;AAEA,WAAA,IAAA,GAAA,IAAA,UAAA,EAAA;AACA,QAAA,IAAA,CAAA,GAAA,CAAA,GAAA,UAAA,CAAA,GAAA,CAAA;AACA;AACA,KANA;;AAOA,QAAA,eAAA,GAAA,SAAA,eAAA,QAAA;AAAA,UAAA,GAAA,SAAA,GAAA;AAAA,UAAA,QAAA,SAAA,QAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,CAAA,MAAA,CAAA,MAAA;;AACA,UAAA,GAAA,CAAA,MAAA,CAAA,MAAA,IAAA,CAAA,EAAA;AACA,eAAA,kBAAA;AACA;AACA,KALA;;AAMA,IAAA,aAAA,CAAA,YAAA;AACA,MAAA,eAAA;AACA,KAFA,CAAA;AAIA,WAAA;AACA,MAAA,YAAA,EAAA,YADA;AAEA,MAAA,eAAA,EAAA,eAFA;AAGA,MAAA,IAAA,EAAA,IAHA;AAIA,MAAA,eAAA,EAAA;AAJA,KAAA;AAMA;AArEA,CAAA","sourcesContent":["<template>\r\n  <div id=\"table\">\r\n    <slot></slot>\r\n    <el-table :data=\"data.tableData\" style=\"width: 100%; \" border :row-class-name=\"getRowClassName\">\r\n      <el-table-column\r\n        v-for=\"(item, index) in data.tHead\"\r\n        :key=\"index\"\r\n        :prop=\"item.name\"\r\n        :label=\"item.label\"\r\n        :min-width=\"item.width\"\r\n      ></el-table-column>\r\n\r\n      <el-table-column type=\"expand\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <div v-for=\"(item, index) in scope.row.detail\" :key=\"index\">\r\n            <el-form label-position=\"left\" inline class=\"demo-table-expand\">\r\n              <el-form-item label=\"操作\">\r\n                <span>{{ childrenData[item.value].label }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"金額\">\r\n                <span>{{ item.amount }}</span>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { initDate } from '@/utils/init_data';\r\n\r\nimport { reactive, ref, watch, onBeforeMount } from '@vue/composition-api';\r\n\r\nexport default {\r\n  name: 'tableVue',\r\n  props: {\r\n    config: {\r\n      type: Object,\r\n      defalut: {}\r\n    }\r\n  },\r\n  setup(props, { root, emit }) {\r\n    /*-----------------初始化數值----------------------*/\r\n    const childrenData = reactive({\r\n      haircut: {\r\n        label: '剪髮'\r\n      },\r\n      color: {\r\n        label: '染髮'\r\n      },\r\n      perm: {\r\n        label: '燙髮'\r\n      },\r\n      treatment: {\r\n        label: '護理'\r\n      },\r\n      others: {\r\n        label: '其他'\r\n      }\r\n    });\r\n    const data = reactive({\r\n      tHead: [],\r\n      tableData: []\r\n    });\r\n\r\n    watch(\r\n      () => props.config.tableData,\r\n      (value, oldValue) => {\r\n        const result = value.map(item => ({\r\n          ...item, //es6省略符號 相當於 id:item.id\r\n          date: initDate(item.date), //不直接通过item.data = item.data+ 2\r\n          type: item.type == 'deposit' ? '儲值' : item.type == 'withdraw' ? '扣款' : '開卡'\r\n        }));\r\n\r\n        data.tableData = result;\r\n      }\r\n    );\r\n\r\n    /*-----------------函數聲明---------------------*/\r\n    const initTableConfig = () => {\r\n      let configData = props.config;\r\n\r\n      for (let key in configData) {\r\n        data[key] = configData[key];\r\n      }\r\n    };\r\n    const getRowClassName = ({ row, rowIndex }) => {\r\n      console.log(row.detail.length);\r\n      if (row.detail.length == 0) {\r\n        return 'row-expand-cover';\r\n      }\r\n    };\r\n    onBeforeMount(() => {\r\n      initTableConfig();\r\n    });\r\n\r\n    return {\r\n      childrenData,\r\n      initTableConfig,\r\n      data,\r\n      getRowClassName\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#table {\r\n  /deep/ td:not(:first-child),\r\n  /deep/th {\r\n    text-align: center;\r\n  }\r\n  /deep/ td:first-child {\r\n    padding-left: 20px;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/Table"}]}