{"remainingRequest":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\views\\Login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\views\\Login\\index.vue","mtime":1595991962051},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovL+W8leWFpeaUlOaIquiri+axgg0KaW1wb3J0IHsgZ2V0U21zLCByZWdpc3RlciwgTG9naW4gfSBmcm9tICdAL2FwaS9sb2dpbi5qcycNCi8vdnVlMy4wIGNvbXBvc2l0aW9uLWFwaQ0KaW1wb3J0IHsgcmVhY3RpdmUsIHJlZiwgb25Nb3VudGVkIH0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknDQovL+W8leWFpeWwgeijnemBjuW+jOeahOWHveaVuA0KaW1wb3J0IHsNCiAgc3RyaXBzY3JpcHQsDQogIHZhbGlkYXRlRW1haWwsDQogIHZhbGlkYXRlUGFzcywNCiAgdmFsaWRhdGVDbywNCn0gZnJvbSAnQC91dGlscy92YWxpZGF0ZScNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnbG9naW4nLA0KDQogIHNldHVwIChwcm9wcywgY29udGV4dCkgew0KICAgIC8v6amX6K2J55So5oi25ZCNDQogICAgbGV0IHZhbGlkYXRlVWVyc25hbWUgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBpZiAodmFsdWUgPT09ICcnKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign6KuL6Ly45YWl55So5oi2ICAnKSkNCiAgICAgIH0gZWxzZSBpZiAodmFsaWRhdGVFbWFpbCh2YWx1ZSkpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfnlKjmiLbmoLzlvI/mnInoqqQnKSkNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGNhbGxiYWNrKCkNCiAgICAgIH0NCiAgICB9DQogICAgLy/pqZforYnlr4bnorwNCiAgICBsZXQgdmFsaWRhdGVQYXNzd29yZCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIHJ1bGVGb3JtLnBhdyA9IHN0cmlwc2NyaXB0KHZhbHVlKQ0KICAgICAgdmFsdWUgPSBydWxlRm9ybS5wYXcNCg0KICAgICAgaWYgKHZhbHVlID09PSAnJykgew0KICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoJ+iri+i8uOWFpeWvhueivCcpKQ0KICAgICAgfSBlbHNlIGlmICh2YWxpZGF0ZVBhc3ModmFsdWUpKSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5a+G56K854K6NuiHszIw5pW45a2X5ZKM5a2X5q+NJykpDQogICAgICB9IGVsc2Ugew0KICAgICAgICBjYWxsYmFjaygpDQogICAgICB9DQogICAgfQ0KDQogICAgLy/pqZforYnph43opIflr4bnorwNCiAgICB2YXIgdmFsaWRhdGVQYXNzd29yZHMgPSAocnVsZSwgdmFsdWUsIGNhbGxiYWNrKSA9PiB7DQogICAgICBydWxlRm9ybS5wYXdzID0gc3RyaXBzY3JpcHQodmFsdWUpDQogICAgICB2YWx1ZSA9IHJ1bGVGb3JtLnBhd3MNCiAgICAgIGlmIChtb2RlbCAvIHZhbHVlID09PSAnbG9naW4nKSB7DQogICAgICAgIGNhbGxiYWNrKCkNCiAgICAgIH0NCiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsNCiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfoq4vovLjlhaXlr4bnorwnKSkNCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT0gcnVsZUZvcm0ucGF3KSB7DQogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcign5a+G56K85LiN5LiA6Ie0JykpDQogICAgICB9IGVsc2Ugew0KICAgICAgICBjYWxsYmFjaygpDQogICAgICB9DQogICAgfQ0KICAgIC8v6amX6K2J6KGo5ZauDQogICAgdmFyIHZhbGlkYXRlY29kZSA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsNCiAgICAgIGlmICh2YWx1ZSA9PT0gJycpIHsNCiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign6KuL6Ly45YWl6amX6K2J56K8JykpDQogICAgICB9IGVsc2UgaWYgKHZhbGlkYXRlQ28odmFsdWUpKSB7DQogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ+mpl+itieeivOagvOW8j+acieiqpCcpKQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgY2FsbGJhY2soKQ0KICAgICAgfQ0KICAgIH0NCiAgICAvLy0tLS0tLS0tLS0tLS0tLT09PT3mlbjmk5rogbLmmI4tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0vLw0KDQogICAgY29uc3QgbWVudVRhYiA9IHJlYWN0aXZlKFsNCiAgICAgIHsgdHh0OiAn55m75YWlJywgdHlwZTogJ2xvZ2luJyB9LA0KICAgICAgeyB0eHQ6ICfoqLvlhoonLCB0eXBlOiAncmVnaXN0ZXInIH0sDQogICAgXSkgLy9jb25zb2xlLmxvZyhtZW51VGFiKTsNCg0KICAgIC8v5qih5aGK5YC8DQogICAgY29uc3QgbW9kZWwgPSByZWYoJ2xvZ2luJykNCiAgICBjb25zdCBzZWxlY3RlZCA9IHJlZignMCcpIC8vY29uc29sZS5sb2coc2VsZWN0ZWQudmFsdWUpOw0KICAgIGNvbnN0IHRpbWVyID0gcmVmKG51bGwpDQogICAgY29uc3QgY29kZUJ1dHRvblNhdHVzID0gcmVhY3RpdmUoew0KICAgICAgc2F0dXM6IGZhbHNlLA0KICAgICAgdGV4dDogJ+eNsuWPlumpl+itieeivCcsDQogICAgfSkNCiAgICBjb25zdCBsb2dpbkJ1dHRvblNhdHVzID0gcmVmKHRydWUpDQoNCiAgICAvL+ihqOWWruaVuOaTmg0KICAgIGNvbnN0IHJ1bGVGb3JtID0gcmVhY3RpdmUoew0KICAgICAgdWVzZXJuYW1lOiAnJywNCiAgICAgIHBhdzogJycsDQogICAgICBwYXdzOiAnJywNCiAgICAgIGNvZGU6ICcnLA0KICAgIH0pDQoNCiAgICBjb25zdCBydWxlcyA9IHJlYWN0aXZlKHsNCiAgICAgIHVlc2VybmFtZTogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZVVlcnNuYW1lLCB0cmlnZ2VyOiAnYmx1cicgfV0sDQogICAgICBwYXc6IFt7IHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzd29yZCwgdHJpZ2dlcjogJ2JsdXInIH1dLA0KICAgICAgcGF3czogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZVBhc3N3b3JkcywgdHJpZ2dlcjogJ2JsdXInIH1dLA0KICAgICAgY29kZTogW3sgdmFsaWRhdG9yOiB2YWxpZGF0ZWNvZGUsIHRyaWdnZXI6ICdibHVyJyB9XSwNCiAgICB9KQ0KDQogICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLeWHveaVuOiBsuaYji0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vDQoNCiAgICAvL+WIh+aPm+WKn+iDvQ0KICAgIGNvbnN0IHRvZ2dsZU1lbnUgPSAoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgIHNlbGVjdGVkLnZhbHVlID0gaW5kZXgNCiAgICAgIG1vZGVsLnZhbHVlID0gaXRlbS50eXBlDQogICAgICAvL3RoaXMuJHJlZnNbZm9ybU5hbWVdLnJlc2V0RmllbGRzKCk7DQogICAgICBjb250ZXh0LnJlZnNbJ2xvZ2luRm9ybSddLnJlc2V0RmllbGRzKCkNCiAgICAgIGNsZWFyQ291bnREb3duKCkNCiAgICB9DQoNCiAgICAvLw0KICAgIGNvbnN0IG91dFNtcyA9ICgpID0+IHsNCiAgICAgIGlmIChydWxlRm9ybS51ZXNlcm5hbWUgPT0gJycpIHsNCiAgICAgICAgY29udGV4dC5yb290LiRtZXNzYWdlLmVycm9yKCfkv6HnrrHkuI3og73ngrrnqbonKQ0KICAgICAgICBjbGVhckNvdW50RG93bigpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYgKHZhbGlkYXRlRW1haWwocnVsZUZvcm0udWVzZXJuYW1lKSkgew0KICAgICAgICBjb250ZXh0LnJvb3QuJG1lc3NhZ2UuZXJyb3IoJ+S/oeeuseagvOW8j+acieiqpO+8jOiri+mHjeaWsOi8uOWFpScpDQogICAgICAgIGNsZWFyQ291bnREb3duKCkNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQoNCiAgICAgIC8v5L+h566x6Ly45YWl5q2j56K65b6M5omN55m86YCBYXhpb3Vz6KuL5rGCDQogICAgICBsZXQgcmVzcG9uc2VEYXRhID0gew0KICAgICAgICB1c2VybmFtZTogcnVsZUZvcm0udWVzZXJuYW1lLA0KICAgICAgICBtb2R1bGU6IG1vZGVsLnZhbHVlLA0KICAgICAgfQ0KICAgICAgY29kZUJ1dHRvblNhdHVzLnNhdHVzID0gdHJ1ZQ0KICAgICAgY29kZUJ1dHRvblNhdHVzLnRleHQgPSAn55m86YCB5LitJw0KICAgICAgZ2V0U21zKHJlc3BvbnNlRGF0YSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgY29udGV4dC5yb290LiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwNCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICB9KQ0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQ0KDQogICAgICAgICAgbG9naW5CdXR0b25TYXR1cy52YWx1ZSA9IGZhbHNlDQogICAgICAgICAgY291bnREb3duKDUpDQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcikNCiAgICAgICAgfSkNCiAgICB9DQogICAgLy/pgIHlh7roq4vmsYINCiAgICBjb25zdCBzdWJtaXRGb3JtID0gKGZvcm1OYW1lKSA9PiB7DQogICAgICBjb25zb2xlLmxvZyhmb3JtTmFtZSkNCiAgICAgIGNvbnRleHQucmVmc1tmb3JtTmFtZV0udmFsaWRhdGUoKHZhbGlkKSA9PiB7DQogICAgICAgIC8q5rOo5oSPISHkvb/nlKh2LXNob3cg6YeN6KSH6Ly45YWl5a+G56K855qE6Ly45YWl5qGG5rKS5pyJ5raI5aSx77yMDQogICAgICAgIOWcqOeZu+WFpeaZguacg+WboOeCuumHjeikh+WvhueivOaykuaciei8uOWFpeWIsOiAjOiuk3ZhaWxk6L+U5ZueZmFsc2XvvIzmiYDku6Xlv4XpoIjnlKh2LWlmISEhISovDQogICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgIG1vZGVsLnZhbHVlID09PSAnbG9naW4nID8gbG9naW5PdXQoKSA6IHJlZ2lzdGVyT3V0KCkNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3Igc3VibWl0ISEnKQ0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgIH0NCiAgICAvL+WAkuaVuOioiOaZgg0KICAgIGNvbnN0IGNvdW50RG93biA9IChudW1iZXIpID0+IHsNCiAgICAgIHZhciB0aW1lID0gbnVtYmVyDQogICAgICAvL+ioiOaZguWGjeasoeeZvOmAgempl+itieeivOaZgumWkw0KICAgICAgdGltZXIudmFsdWUgPSBzZXRJbnRlcnZhbCgoKSA9PiB7DQogICAgICAgIHRpbWUtLQ0KICAgICAgICBpZiAodGltZSA9PT0gMCkgew0KICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIudmFsdWUpDQogICAgICAgICAgY29kZUJ1dHRvblNhdHVzLnNhdHVzID0gZmFsc2UNCiAgICAgICAgICBjb2RlQnV0dG9uU2F0dXMudGV4dCA9ICflho3mrKHnmbzpgIEnDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgY29kZUJ1dHRvblNhdHVzLnRleHQgPSBg5YCS5pW46KiI5pmCJHt0aW1lfeenkmANCiAgICAgICAgfQ0KICAgICAgfSwgMTAwMCkNCiAgICB9DQogICAgLy/nmbvlhaXoq4vmsYINCiAgICBjb25zdCBsb2dpbk91dCA9ICgpID0+IHsNCiAgICAgIC8v542y5Y+W55So5oi255m75YWl6LOH6KiKDQogICAgICBsZXQgcmVxdWVzdERhdGEgPSB7DQogICAgICAgIHVzZXJuYW1lOiBydWxlRm9ybS51ZXNlcm5hbWUsDQogICAgICAgIHBhc3N3b3JkOiBydWxlRm9ybS5wYXcsDQogICAgICAgIGNvZGU6IHJ1bGVGb3JtLmNvZGUsDQogICAgICB9DQogICAgICBMb2dpbihyZXF1ZXN0RGF0YSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgY29udGV4dC5yb290LiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwNCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICB9KQ0KDQogICAgICAgICAgY29udGV4dC5yb290LiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgICBuYW1lOiAnSG9tZScsDQogICAgICAgICAgfSkNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgICB9KQ0KICAgIH0NCiAgICAvL+iou+WGiuiri+axgg0KICAgIGNvbnN0IHJlZ2lzdGVyT3V0ID0gKCkgPT4gew0KICAgICAgLy/njbLlj5bnlKjmiLboqLvlhoroqIrmga8NCiAgICAgIGxldCByZWd1ZXN0RGF0YSA9IHsNCiAgICAgICAgdXNlcm5hbWU6IHJ1bGVGb3JtLnVlc2VybmFtZSwNCiAgICAgICAgcGFzc3dvcmQ6IHJ1bGVGb3JtLnBhdywNCiAgICAgICAgY29kZTogcnVsZUZvcm0uY29kZSwNCiAgICAgICAgbW9kdWxlOiAncmVnaXN0ZXInLA0KICAgICAgfQ0KDQogICAgICByZWdpc3RlcihyZWd1ZXN0RGF0YSkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgbGV0IGRhdGEgPSByZXNwb25zZS5kYXRhDQogICAgICAgICAgY29udGV4dC5yb290LiRtZXNzYWdlKHsNCiAgICAgICAgICAgIG1lc3NhZ2U6IGRhdGEubWVzc2FnZSwNCiAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC8v6Ki75YaK5a6M5b6M6aCB6Z2i6Ieq5YuV6Lez6L2J5Yiw55m75YWl6aCB6Z2iDQogICAgICAgICAgdG9nZ2xlTWVudShtZW51VGFiWzBdKQ0KICAgICAgICAgIGNsZWFyQ291bnREb3duKCkNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4geyB9KQ0KICAgIH0NCiAgICAvL+a4hemZpOWAkuaVuOioiOaZgg0KICAgIGNvbnN0IGNsZWFyQ291bnREb3duID0gKCkgPT4gew0KICAgICAgY29kZUJ1dHRvblNhdHVzLnNhdHVzID0gZmFsc2UNCiAgICAgIGNvZGVCdXR0b25TYXR1cy50ZXh0ID0gJ+eNsuWPlumpl+itieeivCcNCiAgICAgIGNsZWFySW50ZXJ2YWwodGltZXIudmFsdWUpDQogICAgfQ0KDQogICAgLy/nlJ/lkb3pgLHmnJ8NCiAgICBvbk1vdW50ZWQoKCkgPT4geyB9KQ0KICAgIHJldHVybiB7DQogICAgICBtZW51VGFiLA0KICAgICAgbW9kZWwsDQogICAgICBzZWxlY3RlZCwNCiAgICAgIHJ1bGVGb3JtLA0KICAgICAgdGltZXIsDQogICAgICBjb2RlQnV0dG9uU2F0dXMsDQogICAgICBsb2dpbkJ1dHRvblNhdHVzLA0KICAgICAgY291bnREb3duLA0KICAgICAgcnVsZXMsDQogICAgICB0b2dnbGVNZW51LA0KICAgICAgY2xlYXJDb3VudERvd24sDQogICAgICBzdWJtaXRGb3JtLA0KICAgICAgb3V0U21zLA0KICAgICAgTG9naW4sDQogICAgfQ0KICB9LA0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Login","sourcesContent":["<template>\r\n  <div id=\"login\">\r\n    <div class=\"login_wrap\">\r\n      <ul class=\"menu-tab\">\r\n        <!---表單切換面板-->\r\n        <li\r\n          v-for=\"(item, index) in menuTab\"\r\n          :key=\"item.id\"\r\n          @click=\"toggleMenu(item, index)\"\r\n          :class=\"{ current: selected == index }\"\r\n        >\r\n          {{ item.txt }}\r\n        </li>\r\n      </ul>\r\n\r\n      <!---表單 start-->\r\n      <el-form\r\n        :model=\"ruleForm\"\r\n        status-icon\r\n        :rules=\"rules\"\r\n        ref=\"loginForm\"\r\n        class=\"login_form\"\r\n        size=\"medium\"\r\n      >\r\n        <el-form-item\r\n          prop=\"uesername\"\r\n          class=\"item_form\"\r\n        >\r\n          <label>郵箱</label>\r\n          <el-input\r\n            type=\"text\"\r\n            v-model=\"ruleForm.uesername\"\r\n            autocomplete=\"off\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item\r\n          prop=\"paw\"\r\n          class=\"item_form\"\r\n          minlength=\"6\"\r\n          maxlength=\"20\"\r\n        >\r\n          <label>密碼</label>\r\n          <el-input\r\n            type=\"text\"\r\n            v-model=\"ruleForm.paw\"\r\n            autocomplete=\"off\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item\r\n          prop=\"paws\"\r\n          class=\"item_form\"\r\n          v-if=\"model === 'register'\"\r\n          minlength=\"6\"\r\n          maxlength=\"20\"\r\n        >\r\n          <label>重複密碼</label>\r\n          <el-input\r\n            type=\"text\"\r\n            v-model=\"ruleForm.paws\"\r\n            autocomplete=\"off\"\r\n          ></el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item\r\n          prop=\"code\"\r\n          class=\"item_form\"\r\n        >\r\n          <label>驗證碼</label>\r\n          <el-row :gutter=\"10\">\r\n            <el-col :span=\"15\">\r\n              <el-input\r\n                v-model=\"ruleForm.code\"\r\n                minlength=\"6\"\r\n                maxlength=\"20\"\r\n              ></el-input>\r\n            </el-col>\r\n\r\n            <el-col :span=\"9\">\r\n              <el-button\r\n                type=\"success\"\r\n                class=\"block\"\r\n                @click=\"outSms()\"\r\n                :disabled=\"codeButtonSatus.satus\"\r\n              >\r\n                {{ codeButtonSatus.text }}\r\n              </el-button>\r\n            </el-col>\r\n          </el-row>\r\n        </el-form-item>\r\n\r\n        <!---送出按鈕-->\r\n        <el-form-item>\r\n          <el-button\r\n            type=\"danger\"\r\n            class=\"margin_top block\"\r\n            @click=\"submitForm('loginForm')\"\r\n            :disabled=\"loginButtonSatus\"\r\n          >\r\n            {{ model == 'login' ? '登入' : '註冊' }}\r\n          </el-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n//引入攔截請求\r\nimport { getSms, register, Login } from '@/api/login.js'\r\n//vue3.0 composition-api\r\nimport { reactive, ref, onMounted } from '@vue/composition-api'\r\n//引入封裝過後的函數\r\nimport {\r\n  stripscript,\r\n  validateEmail,\r\n  validatePass,\r\n  validateCo,\r\n} from '@/utils/validate'\r\n\r\nexport default {\r\n  name: 'login',\r\n\r\n  setup (props, context) {\r\n    //驗證用戶名\r\n    let validateUersname = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('請輸入用戶  '))\r\n      } else if (validateEmail(value)) {\r\n        callback(new Error('用戶格式有誤'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    //驗證密碼\r\n    let validatePassword = (rule, value, callback) => {\r\n      ruleForm.paw = stripscript(value)\r\n      value = ruleForm.paw\r\n\r\n      if (value === '') {\r\n        callback(new Error('請輸入密碼'))\r\n      } else if (validatePass(value)) {\r\n        callback(new Error('密碼為6至20數字和字母'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n\r\n    //驗證重複密碼\r\n    var validatePasswords = (rule, value, callback) => {\r\n      ruleForm.paws = stripscript(value)\r\n      value = ruleForm.paws\r\n      if (model / value === 'login') {\r\n        callback()\r\n      }\r\n      if (value === '') {\r\n        callback(new Error('請輸入密碼'))\r\n      } else if (value != ruleForm.paw) {\r\n        callback(new Error('密碼不一致'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    //驗證表單\r\n    var validatecode = (rule, value, callback) => {\r\n      if (value === '') {\r\n        return callback(new Error('請輸入驗證碼'))\r\n      } else if (validateCo(value)) {\r\n        return callback(new Error('驗證碼格式有誤'))\r\n      } else {\r\n        callback()\r\n      }\r\n    }\r\n    //---------------====數據聲明------------------------------//\r\n\r\n    const menuTab = reactive([\r\n      { txt: '登入', type: 'login' },\r\n      { txt: '註冊', type: 'register' },\r\n    ]) //console.log(menuTab);\r\n\r\n    //模塊值\r\n    const model = ref('login')\r\n    const selected = ref('0') //console.log(selected.value);\r\n    const timer = ref(null)\r\n    const codeButtonSatus = reactive({\r\n      satus: false,\r\n      text: '獲取驗證碼',\r\n    })\r\n    const loginButtonSatus = ref(true)\r\n\r\n    //表單數據\r\n    const ruleForm = reactive({\r\n      uesername: '',\r\n      paw: '',\r\n      paws: '',\r\n      code: '',\r\n    })\r\n\r\n    const rules = reactive({\r\n      uesername: [{ validator: validateUersname, trigger: 'blur' }],\r\n      paw: [{ validator: validatePassword, trigger: 'blur' }],\r\n      paws: [{ validator: validatePasswords, trigger: 'blur' }],\r\n      code: [{ validator: validatecode, trigger: 'blur' }],\r\n    })\r\n\r\n    //--------------------函數聲明------------------------------//\r\n\r\n    //切換功能\r\n    const toggleMenu = (item, index) => {\r\n      selected.value = index\r\n      model.value = item.type\r\n      //this.$refs[formName].resetFields();\r\n      context.refs['loginForm'].resetFields()\r\n      clearCountDown()\r\n    }\r\n\r\n    //\r\n    const outSms = () => {\r\n      if (ruleForm.uesername == '') {\r\n        context.root.$message.error('信箱不能為空')\r\n        clearCountDown()\r\n        return false\r\n      }\r\n      if (validateEmail(ruleForm.uesername)) {\r\n        context.root.$message.error('信箱格式有誤，請重新輸入')\r\n        clearCountDown()\r\n        return false\r\n      }\r\n\r\n      //信箱輸入正確後才發送axious請求\r\n      let responseData = {\r\n        username: ruleForm.uesername,\r\n        module: model.value,\r\n      }\r\n      codeButtonSatus.satus = true\r\n      codeButtonSatus.text = '發送中'\r\n      getSms(responseData)\r\n        .then((response) => {\r\n          let data = response.data\r\n          context.root.$message({\r\n            message: data.message,\r\n            type: 'success',\r\n          })\r\n          console.log(response)\r\n\r\n          loginButtonSatus.value = false\r\n          countDown(5)\r\n        })\r\n        .catch((error) => {\r\n          console.log(error)\r\n        })\r\n    }\r\n    //送出請求\r\n    const submitForm = (formName) => {\r\n      console.log(formName)\r\n      context.refs[formName].validate((valid) => {\r\n        /*注意!!使用v-show 重複輸入密碼的輸入框沒有消失，\r\n        在登入時會因為重複密碼沒有輸入到而讓vaild返回false，所以必須用v-if!!!!*/\r\n        if (valid) {\r\n          model.value === 'login' ? loginOut() : registerOut()\r\n        } else {\r\n          console.log('error submit!!')\r\n          return false\r\n        }\r\n      })\r\n    }\r\n    //倒數計時\r\n    const countDown = (number) => {\r\n      var time = number\r\n      //計時再次發送驗證碼時間\r\n      timer.value = setInterval(() => {\r\n        time--\r\n        if (time === 0) {\r\n          clearInterval(timer.value)\r\n          codeButtonSatus.satus = false\r\n          codeButtonSatus.text = '再次發送'\r\n        } else {\r\n          codeButtonSatus.text = `倒數計時${time}秒`\r\n        }\r\n      }, 1000)\r\n    }\r\n    //登入請求\r\n    const loginOut = () => {\r\n      //獲取用戶登入資訊\r\n      let requestData = {\r\n        username: ruleForm.uesername,\r\n        password: ruleForm.paw,\r\n        code: ruleForm.code,\r\n      }\r\n      Login(requestData)\r\n        .then((response) => {\r\n          let data = response.data\r\n          context.root.$message({\r\n            message: data.message,\r\n            type: 'success',\r\n          })\r\n\r\n          context.root.$router.push({\r\n            name: 'Home',\r\n          })\r\n        })\r\n        .catch((error) => {\r\n          return false\r\n        })\r\n    }\r\n    //註冊請求\r\n    const registerOut = () => {\r\n      //獲取用戶註冊訊息\r\n      let reguestData = {\r\n        username: ruleForm.uesername,\r\n        password: ruleForm.paw,\r\n        code: ruleForm.code,\r\n        module: 'register',\r\n      }\r\n\r\n      register(reguestData)\r\n        .then((response) => {\r\n          let data = response.data\r\n          context.root.$message({\r\n            message: data.message,\r\n            type: 'success',\r\n          })\r\n          //註冊完後頁面自動跳轉到登入頁面\r\n          toggleMenu(menuTab[0])\r\n          clearCountDown()\r\n        })\r\n        .catch((error) => { })\r\n    }\r\n    //清除倒數計時\r\n    const clearCountDown = () => {\r\n      codeButtonSatus.satus = false\r\n      codeButtonSatus.text = '獲取驗證碼'\r\n      clearInterval(timer.value)\r\n    }\r\n\r\n    //生命週期\r\n    onMounted(() => { })\r\n    return {\r\n      menuTab,\r\n      model,\r\n      selected,\r\n      ruleForm,\r\n      timer,\r\n      codeButtonSatus,\r\n      loginButtonSatus,\r\n      countDown,\r\n      rules,\r\n      toggleMenu,\r\n      clearCountDown,\r\n      submitForm,\r\n      outSms,\r\n      Login,\r\n    }\r\n  },\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n#login {\r\n  height: 100vh;\r\n  background-color: #344a5f;\r\n}\r\n.login_wrap {\r\n  width: 330px;\r\n  margin: auto;\r\n}\r\n.menu-tab {\r\n  text-align: center;\r\n  li {\r\n    display: inline-block;\r\n    width: 88px;\r\n    height: 36px;\r\n    line-height: 36px;\r\n    font-size: 14px;\r\n    color: #ffff;\r\n    border-radius: 2px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n.current {\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n//表單 :start\r\n\r\n.login_form {\r\n  margin-top: 29px;\r\n  label {\r\n    display: block;\r\n    margin-bottom: 3px;\r\n    font-size: 14px;\r\n    color: #ffff;\r\n  }\r\n}\r\n.item_form {\r\n  margin-bottom: 13px;\r\n}\r\n.block {\r\n  width: 100%;\r\n  display: block;\r\n}\r\n.margin_top {\r\n  margin-top: 25px;\r\n}\r\n</style>\r\n"]}]}