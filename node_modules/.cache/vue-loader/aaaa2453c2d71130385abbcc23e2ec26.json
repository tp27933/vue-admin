{"remainingRequest":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\components\\Table\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\src\\components\\Table\\index.vue","mtime":1603461833313},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\missj\\OneDrive\\桌面\\vue\\vue-admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBpbml0RGF0ZSB9IGZyb20gJ0AvdXRpbHMvaW5pdF9kYXRhJzsNCg0KaW1wb3J0IHsNCiAgcmVhY3RpdmUsDQogIHJlZiwNCiAgd2F0Y2gsDQogIG9uQmVmb3JlTW91bnQNCn0gZnJvbSAnQHZ1ZS9jb21wb3NpdGlvbi1hcGknOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICd0YWJsZVZ1ZScsDQogIHByb3BzOiB7DQogICAgY29uZmlnOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhbHV0OiB7fQ0KICAgIH0NCiAgfSwNCiAgc2V0dXAocHJvcHMsIHsgcm9vdCwgZW1pdCB9KSB7DQogICAgLyotLS0tLS0tLS0tLS0tLS0tLeWIneWni+WMluaVuOWAvC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLw0KICAgIGNvbnN0IGNoaWxkcmVuRGF0YSA9IHJlYWN0aXZlKHsNCiAgICAgIGhhaXJjdXQ6IHsNCiAgICAgICAgbGFiZWw6ICfliarpq64nDQogICAgICB9LA0KICAgICAgY29sb3I6IHsNCiAgICAgICAgbGFiZWw6ICfmn5Ppq64nDQogICAgICB9LA0KICAgICAgcGVybTogew0KICAgICAgICBsYWJlbDogJ+eHmemrricNCiAgICAgIH0sDQogICAgICB0cmVhdG1lbnQ6IHsNCiAgICAgICAgbGFiZWw6ICforbfnkIYnDQogICAgICB9LA0KICAgICAgb3RoZXJzOiB7DQogICAgICAgIGxhYmVsOiAn5YW25LuWJw0KICAgICAgfQ0KICAgIH0pOw0KICAgIGNvbnN0IGRhdGEgPSByZWFjdGl2ZSh7DQogICAgICB0SGVhZDogW10sDQogICAgICB0YWJsZURhdGE6IFtdDQogICAgfSk7DQoNCiAgICB3YXRjaCgNCiAgICAgICgpID0+IHByb3BzLmNvbmZpZy50YWJsZURhdGEsDQogICAgICAodmFsdWUsIG9sZFZhbHVlKSA9PiB7DQogICAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlLm1hcChpdGVtID0+ICh7DQogICAgICAgICAgLi4uaXRlbSwgLy9lczbnnIHnlaXnrKbomZ8g55u455W25pa8IGlkOml0ZW0uaWQNCiAgICAgICAgICBkYXRlOiBpbml0RGF0ZShpdGVtLmRhdGUpLCAvL+S4jeebtOaOpemAmui/h2l0ZW0uZGF0YSA9IGl0ZW0uZGF0YSsgMg0KICAgICAgICAgIHR5cGU6DQogICAgICAgICAgICBpdGVtLnR5cGUgPT0gJ2RlcG9zaXQnDQogICAgICAgICAgICAgID8gJ+WEsuWAvCcNCiAgICAgICAgICAgICAgOiBpdGVtLnR5cGUgPT0gJ3dpdGhkcmF3Jw0KICAgICAgICAgICAgICA/ICfmiaPmrL4nDQogICAgICAgICAgICAgIDogJ+mWi+WNoScNCiAgICAgICAgfSkpOw0KDQogICAgICAgIGRhdGEudGFibGVEYXRhID0gcmVzdWx0Ow0KICAgICAgfQ0KICAgICk7DQoNCiAgICAvKi0tLS0tLS0tLS0tLS0tLS0t5Ye95pW46IGy5piOLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8NCiAgICBjb25zdCBpbml0VGFibGVDb25maWcgPSAoKSA9PiB7DQogICAgICBsZXQgY29uZmlnRGF0YSA9IHByb3BzLmNvbmZpZzsNCg0KICAgICAgZm9yIChsZXQga2V5IGluIGNvbmZpZ0RhdGEpIHsNCiAgICAgICAgZGF0YVtrZXldID0gY29uZmlnRGF0YVtrZXldOw0KICAgICAgfQ0KICAgIH07DQogICAgY29uc3QgZ2V0Um93Q2xhc3NOYW1lID0gKHsNCiAgICAgIHJvdywNCiAgICAgIHJvd0luZGV4DQogICAgfSkgPT4gew0KICAgICAgY29uc29sZS5sb2cocm93LmRldGFpbC5sZW5ndGgpOw0KICAgICAgaWYgKHJvdy5kZXRhaWwubGVuZ3RoID09IDApIHsNCiAgICAgICAgcmV0dXJuICdyb3ctZXhwYW5kLWNvdmVyJzsNCiAgICAgIH0NCiAgICB9Ow0KICAgIG9uQmVmb3JlTW91bnQoKCkgPT4gew0KICAgICAgaW5pdFRhYmxlQ29uZmlnKCk7DQogICAgfSk7DQoNCiAgICByZXR1cm4gew0KICAgICAgY2hpbGRyZW5EYXRhLA0KICAgICAgaW5pdFRhYmxlQ29uZmlnLA0KICAgICAgZGF0YSwNCiAgICAgIGdldFJvd0NsYXNzTmFtZQ0KICAgIH07DQogIH0NCn07DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Table","sourcesContent":["<template>\r\n  <div id=\"table\">\r\n    <slot></slot>\r\n    <el-table\r\n      :data=\"data.tableData\"\r\n      style=\"width: 100%; \"\r\n      border\r\n      :row-class-name=\"getRowClassName\"\r\n    >\r\n      <el-table-column\r\n        v-for=\"(item, index) in data.tHead\"\r\n        :key=\"index\"\r\n        :prop=\"item.name\"\r\n        :label=\"item.label\"\r\n        :min-width=\"item.width\"\r\n      ></el-table-column>\r\n\r\n      <el-table-column type=\"expand\" width=\"100\">\r\n        <template slot-scope=\"scope\">\r\n          <div\r\n            v-for=\"(item, index) in scope.row\r\n              .detail\"\r\n            :key=\"index\"\r\n          >\r\n            <el-form\r\n              label-position=\"left\"\r\n              inline\r\n              class=\"demo-table-expand\"\r\n            >\r\n              <el-form-item label=\"操作\">\r\n                <span>{{\r\n                  childrenData[item.value].label\r\n                }}</span>\r\n              </el-form-item>\r\n              <el-form-item label=\"金額\">\r\n                <span>{{ item.amount }}</span>\r\n              </el-form-item>\r\n            </el-form>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { initDate } from '@/utils/init_data';\r\n\r\nimport {\r\n  reactive,\r\n  ref,\r\n  watch,\r\n  onBeforeMount\r\n} from '@vue/composition-api';\r\n\r\nexport default {\r\n  name: 'tableVue',\r\n  props: {\r\n    config: {\r\n      type: Object,\r\n      defalut: {}\r\n    }\r\n  },\r\n  setup(props, { root, emit }) {\r\n    /*-----------------初始化數值----------------------*/\r\n    const childrenData = reactive({\r\n      haircut: {\r\n        label: '剪髮'\r\n      },\r\n      color: {\r\n        label: '染髮'\r\n      },\r\n      perm: {\r\n        label: '燙髮'\r\n      },\r\n      treatment: {\r\n        label: '護理'\r\n      },\r\n      others: {\r\n        label: '其他'\r\n      }\r\n    });\r\n    const data = reactive({\r\n      tHead: [],\r\n      tableData: []\r\n    });\r\n\r\n    watch(\r\n      () => props.config.tableData,\r\n      (value, oldValue) => {\r\n        const result = value.map(item => ({\r\n          ...item, //es6省略符號 相當於 id:item.id\r\n          date: initDate(item.date), //不直接通过item.data = item.data+ 2\r\n          type:\r\n            item.type == 'deposit'\r\n              ? '儲值'\r\n              : item.type == 'withdraw'\r\n              ? '扣款'\r\n              : '開卡'\r\n        }));\r\n\r\n        data.tableData = result;\r\n      }\r\n    );\r\n\r\n    /*-----------------函數聲明---------------------*/\r\n    const initTableConfig = () => {\r\n      let configData = props.config;\r\n\r\n      for (let key in configData) {\r\n        data[key] = configData[key];\r\n      }\r\n    };\r\n    const getRowClassName = ({\r\n      row,\r\n      rowIndex\r\n    }) => {\r\n      console.log(row.detail.length);\r\n      if (row.detail.length == 0) {\r\n        return 'row-expand-cover';\r\n      }\r\n    };\r\n    onBeforeMount(() => {\r\n      initTableConfig();\r\n    });\r\n\r\n    return {\r\n      childrenData,\r\n      initTableConfig,\r\n      data,\r\n      getRowClassName\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n#table {\r\n  /deep/ td:not(:first-child),\r\n  /deep/th {\r\n    text-align: center;\r\n  }\r\n  /deep/ td:first-child {\r\n    padding-left: 20px;\r\n  }\r\n}\r\n</style>\r\n"]}]}